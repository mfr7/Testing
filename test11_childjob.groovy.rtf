pipeline {
  agent any
  
  stages {
    stage('Perform Operation') {
      steps {
        sh '''
          if [ "$OPERATION" = "Addition" ]; then
            echo "Performing Addition"
            result=$(($num1 + $num2))
            echo "Addition Result: $result"
          elif [ "$OPERATION" = "Subtraction" ]; then
            echo "Performing Subtraction"
            if [ $num1 -gt $num2 ]; then
              result=$(($num1 - $num2))
            else
              result=$(($num2 - $num1))
            fi
            echo "Subtraction Result: $result"
          else
            echo "Invalid operation choice!"
          fi
        '''
      }
    }
  }
}
